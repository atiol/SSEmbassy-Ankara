@using PagedList.Mvc;
@model PagedList.IPagedList<ssembassy_ankara.Models.CitizenViewModel>

@{
    ViewBag.Title = "Registered Nationals";
    Layout = "~/Views/Shared/_Dashboard.cshtml";
    ViewBag.Description = "A list of all registered South Sudanese in Turkey";
}

<div class="row">
    <!-- staff -->
    <div class="col-sm-10 col-sm-offset-1">
        <!-- STAFF LIST -->
        <div class="box box-success">
            <div class="box-header with-border">
                <h3 class="box-title">All Registered Citizens</h3>
                <div class="box-tools pull-right">
                    <span class="label label-danger">@ViewBag.CitizenCount Citizens</span>
                    <button type="button" class="btn btn-box-tool" data-widget="collapse">
                        <i class="fa fa-minus"></i>
                    </button>
                    <button type="button" class="btn btn-box-tool" data-widget="remove">
                        <i class="fa fa-times"></i>
                    </button>
                </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body no-padding">
                <ul class="users-list clearfix">
                    @*@if (ViewBag.Staff.Count > 0)
                    {
                        
                    }*@
                    @foreach (var citizen in Model)
                    {
                        <li>
                            @if (!string.IsNullOrEmpty(citizen.ImageUrl))
                            {
                                <img src="@Url.Content(""+ citizen.ImageUrl +"")" alt="citizen image">
                            }
                            else
                            {
                                <img src="@Url.Content("~/Content/img/muser.png")" alt="User Image">
                            }
                            <a class="users-list-name" href="@Url.Action("Details", "CitizenRegistration", new {id = citizen.Id})">@citizen.FullName</a>
                            <span class="users-list-date">@citizen.ApplicationDateForDisplay</span>
                            <span class="users-list-date">@citizen.TurkeyPhone</span>
                        </li>
                    }
                </ul>
                <!-- /.users-list -->
            </div>
            <!-- /.box-body -->
            <div class="box-footer text-center">
                @*<a href="javascript:void(0)" class="uppercase">View All Users</a>*@
                @Html.PagedListPager(Model, page => Url.Action("Registered", new { page }))
            </div>
            <!-- /.box-footer -->
        </div>
        <!--/.box -->
    </div>
</div>